[gd_scene format=3 uid="uid://5v7a0ra4elxi"]

[ext_resource type="PackedScene" uid="uid://dfvx4shbdy2i0" path="res://scenes/camera_rig.tscn" id="1_nl8x0"]
[ext_resource type="PackedScene" uid="uid://ehbcmyfcurbu" path="res://scenes/ground.tscn" id="2_gej26"]
[ext_resource type="PackedScene" uid="uid://cbio2ymsjjt45" path="res://scenes/parallax_2d_layer.tscn" id="2_mcs8y"]
[ext_resource type="PackedScene" uid="uid://b1q5gjhbfsuaq" path="res://scenes/player.tscn" id="5_157wf"]
[ext_resource type="Texture2D" uid="uid://jtdhvpki0hm3" path="res://assets/packages/Glacial-mountains-parallax-background_vnitti/Layers/sky.png" id="8_mcs8y"]
[ext_resource type="Texture2D" uid="uid://cgke3ahrw3g0a" path="res://assets/packages/Glacial-mountains-parallax-background_vnitti/Layers/glacial_mountains_lightened.png" id="9_6gaaa"]
[ext_resource type="Script" uid="uid://clwdi74exmma7" path="res://scenes/player_controllr.gd" id="9_iniog"]
[ext_resource type="Texture2D" uid="uid://cujsmm07hnsej" path="res://assets/packages/Glacial-mountains-parallax-background_vnitti/Layers/clouds_mg_1.png" id="10_cjr5t"]
[ext_resource type="Texture2D" uid="uid://pi2m5lc3c6fp" path="res://assets/packages/Glacial-mountains-parallax-background_vnitti/Layers/clouds_mg_2.png" id="11_itntn"]
[ext_resource type="Texture2D" uid="uid://c6nr8ekrc61va" path="res://assets/packages/Glacial-mountains-parallax-background_vnitti/Layers/clouds_mg_3.png" id="12_7ocsb"]
[ext_resource type="Resource" uid="uid://cygc4mwlm1rxk" path="res://resources/1.encounter.tres" id="12_itntn"]
[ext_resource type="Script" uid="uid://bx6f3uaf823k7" path="res://scenes/encounters/encounter_runner.gd" id="13_7ocsb"]
[ext_resource type="Script" uid="uid://b7muo30j743j7" path="res://scenes/encounters/enemy_spawner.gd" id="14_6demn"]
[ext_resource type="Script" uid="uid://cs50vfhsfsego" path="res://scenes/encounters/stage_director.gd" id="14_7ocsb"]
[ext_resource type="Script" uid="uid://b24sg000wsii0" path="res://scenes/encounters/difficulty_profile.gd" id="15_6demn"]
[ext_resource type="Script" uid="uid://dbp6h4gvlg87c" path="res://scenes/encounters/encounter.gd" id="15_qfdku"]

[sub_resource type="Curve" id="Curve_qfdku"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_25g3s"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_aagjl"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_gnb8g"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_t1iya"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_jwwn1"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Resource" id="Resource_qfdku"]
script = ExtResource("15_6demn")
hp_curve = SubResource("Curve_aagjl")
fire_rate_curve = SubResource("Curve_25g3s")
spawn_count_curve = SubResource("Curve_t1iya")
speed_curve = SubResource("Curve_jwwn1")
breather_curve = SubResource("Curve_qfdku")
intensity_curve = SubResource("Curve_gnb8g")
metadata/_custom_type_script = "uid://b24sg000wsii0"

[node name="GameplayScreen" type="Node2D" unique_id=158736197]

[node name="CameraRig" parent="." unique_id=2025045557 instance=ExtResource("1_nl8x0")]
follow_strength = 1.0
min_horizon_ratio = 0.85
max_horizon_ratio = 0.15

[node name="World" type="Node" parent="." unique_id=242347781]

[node name="WorldLayer" type="CanvasLayer" parent="." unique_id=1382012560]

[node name="Sky" parent="WorldLayer" unique_id=1553533872 instance=ExtResource("2_mcs8y")]
parallax_z_offset = -10000.0

[node name="Sprite2D" type="Sprite2D" parent="WorldLayer/Sky" unique_id=119735018]
position = Vector2(0, -72)
scale = Vector2(1.9722223, 1.9722222)
texture = ExtResource("8_mcs8y")

[node name="Mountains" parent="WorldLayer" unique_id=2112781111 instance=ExtResource("2_mcs8y")]
position = Vector2(0, -40)
parallax_z_offset = -5000.0
repeat_x = true

[node name="Sprite2D" type="Sprite2D" parent="WorldLayer/Mountains" unique_id=901453193]
position = Vector2(0, -104)
texture = ExtResource("9_6gaaa")

[node name="Cloud3" parent="WorldLayer" unique_id=144826513 instance=ExtResource("2_mcs8y")]
position = Vector2(0, -54)
parallax_z_offset = -2500.0
repeat_x = true

[node name="Sprite2D" type="Sprite2D" parent="WorldLayer/Cloud3" unique_id=26751890]
position = Vector2(0, -104)
texture = ExtResource("12_7ocsb")

[node name="Cloud2" parent="WorldLayer" unique_id=1033381634 instance=ExtResource("2_mcs8y")]
position = Vector2(0, -54)
repeat_x = true

[node name="Sprite2D" type="Sprite2D" parent="WorldLayer/Cloud2" unique_id=1480389750]
position = Vector2(0, -104)
texture = ExtResource("11_itntn")

[node name="Cloud1" parent="WorldLayer" unique_id=539629075 instance=ExtResource("2_mcs8y")]
position = Vector2(0, -54)
parallax_z_offset = -1500.0
repeat_x = true

[node name="Sprite2D" type="Sprite2D" parent="WorldLayer/Cloud1" unique_id=1214918953]
position = Vector2(0, -104)
texture = ExtResource("10_cjr5t")

[node name="Ground" parent="WorldLayer" unique_id=1065127099 instance=ExtResource("2_gej26")]

[node name="ObjectsLayer" type="CanvasLayer" parent="." unique_id=1463780327]
layer = 2

[node name="Player" parent="ObjectsLayer" unique_id=1077760697 groups=["player"] instance=ExtResource("5_157wf")]
modulate = Color(1, 1, 1, 0.42745098)
speed = 0.0
world_pos = Vector3(50, 0, 0)
fixed_sprite = true

[node name="PlayerController" type="Node" parent="." unique_id=634795422]
script = ExtResource("9_iniog")
metadata/_custom_type_script = "uid://clwdi74exmma7"

[node name="EncounterRunner" type="Node" parent="." unique_id=749903038 node_paths=PackedStringArray("spawner")]
script = ExtResource("13_7ocsb")
autostart = true
spawner = NodePath("../EnemySpawner")
metadata/_custom_type_script = "uid://bx6f3uaf823k7"

[node name="StageDirector" type="Node" parent="." unique_id=1937507698 node_paths=PackedStringArray("runner", "player")]
script = ExtResource("14_7ocsb")
runner = NodePath("../EncounterRunner")
player = NodePath("../ObjectsLayer/Player")
segments = Array[ExtResource("15_qfdku")]([ExtResource("12_itntn"), ExtResource("12_itntn")])
run_seed = 1
modifiers = PackedStringArray()
autostart = true
difficulty_profile = SubResource("Resource_qfdku")

[node name="EnemySpawner" type="Node" parent="." unique_id=54553492 node_paths=PackedStringArray("world", "camera_rig")]
script = ExtResource("14_6demn")
world = NodePath("../ObjectsLayer")
camera_rig = NodePath("../CameraRig")
metadata/_custom_type_script = "uid://b7muo30j743j7"
